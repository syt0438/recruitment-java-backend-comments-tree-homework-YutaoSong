(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{426:function(e,t,a){"use strict";var n=a(51),s=a(52),r=a(55),o=a(53),l=a(54),i=a(0),c=a.n(i),m=function(e){function t(){var e,a;Object(n.a)(this,t);for(var s=arguments.length,l=new Array(s),i=0;i<s;i++)l[i]=arguments[i];return(a=Object(r.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(l))))._renderContent=function(){var e=a.canvas.getContext("2d"),t=a._calcWidth();e.strokeStyle="#fff",e.shadowOffsetX=-2,e.shadowOffsetY=2,e.shadowBlur=2,e.shadowColor="rgba(0,0,0,.3)",e.beginPath(),e.moveTo(0,20),e.lineTo(8,16),e.lineTo(8,1),e.lineTo(t-1,1),e.lineTo(t-1,39),e.lineTo(8,39),e.lineTo(8,23),e.closePath(),e.stroke(),e.fillStyle="#D3D7F7",e.textBaseline="middle",e.font="14px sans-serif",e.beginPath(),e.fillText(a.props.info,20,20)},a._calcWidth=function(){return 30+15*a.props.info.length},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.info&&this.props.info!==e.info&&this._renderContent()}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=void 0===a?"":a,s=t.style,r=void 0===s?{}:s;return c.a.createElement("div",{className:n,style:r},c.a.createElement("canvas",{height:"41",width:this._calcWidth(),ref:function(t){return e.canvas=t}}))}}]),t}(c.a.Component);m.defaultProps={info:""},t.a=m},693:function(e,t,a){"use strict";a.r(t);a(423);var n,s=a(424),r=a.n(s),o=a(19),l=a.n(o),i=(a(173),a(41)),c=a.n(i),m=a(35),u=a(51),p=a(52),f=a(55),d=a(53),g=a(54),h=(a(175),a(112)),b=a.n(h),w=a(0),E=a.n(w),v=a(426),y=(a(171),a(108)),I=b.a.create()(n=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={focusItem:-1,loading:!1},a.backLogin=function(){a.props.form.resetFields(),a.props.toggleShow()},a.onSubmit=function(){a.props.form.validateFields(function(e,t){e||a.onRegister(t)})},a.onRegister=function(){var e=Object(m.a)(l.a.mark(function e(t){var n,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),!a.state.loading){e.next=3;break}return e.abrupt("return");case 3:return a.setState({loading:!0}),n=c.a.loading("\u6ce8\u518c\u4e2d...",0),e.next=7,Object(y.d)("/auth/register",{uid:t.registerUsername,pwd:t.registerPassword,email:t.registerEmail});case 7:s=e.sent,a.setState({loading:!1}),n(),0===s.code&&c.a.success("\u6ce8\u518c\u6210\u529f");case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form,a=t.getFieldDecorator,n=t.getFieldValue,s=t.getFieldError,o=this.state.focusItem;return E.a.createElement("div",null,E.a.createElement("h3",{className:"title"},"\u6ce8\u518c"),E.a.createElement(b.a,{hideRequiredMark:!0},E.a.createElement(b.a.Item,{help:E.a.createElement(v.a,{info:s("registerUsername")&&s("registerUsername")[0]}),style:{marginBottom:10},wrapperCol:{span:20,pull:0===o?1:0},labelCol:{span:3,pull:0===o?1:0},label:E.a.createElement("span",{className:"iconfont icon-User",style:{opacity:0===o?1:.6}}),colon:!1},a("registerUsername",{validateFirst:!0,rules:[{required:!0,message:"\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a"},{pattern:/^[^\s']+$/,message:"\u4e0d\u80fd\u8f93\u5165\u7279\u6b8a\u5b57\u7b26"},{min:3,message:"\u7528\u6237\u540d\u81f3\u5c11\u4e3a5\u4f4d"},{max:20,message:"\u7528\u6237\u540d\u81f3\u591a\u4e3a20\u4f4d"}]})(E.a.createElement(r.a,{maxLength:16,className:"myInput",autoComplete:"new-password",onFocus:function(){return e.setState({focusItem:0})},onBlur:function(){return e.setState({focusItem:-1})},onPressEnter:this.onSubmit,placeholder:"\u7528\u6237\u540d"}))),E.a.createElement(b.a.Item,{help:E.a.createElement(v.a,{info:s("registerEmail")&&s("registerEmail")[0]}),style:{marginBottom:10},wrapperCol:{span:20,pull:0===o?1:0},labelCol:{span:3,pull:0===o?1:0},label:E.a.createElement("span",{className:"iconfont icon-fenlei",style:{opacity:0===o?1:.6}}),colon:!1},a("registerEmail",{validateFirst:!0,rules:[{required:!0,message:"\u90ae\u7bb1\u4e0d\u80fd\u4e3a\u7a7a"},{pattern:/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1"},{min:6,message:"\u90ae\u7bb1\u81f3\u5c11\u4e3a6\u4f4d"}]})(E.a.createElement(r.a,{maxLength:16,className:"myInput",autoComplete:"new-password",onFocus:function(){return e.setState({focusItem:0})},onBlur:function(){return e.setState({focusItem:-1})},onPressEnter:this.onSubmit,placeholder:"\u90ae\u7bb1"}))),E.a.createElement(b.a.Item,{help:E.a.createElement(v.a,{info:s("registerPassword")&&s("registerPassword")[0]}),style:{marginBottom:10},wrapperCol:{span:20,pull:1===o?1:0},labelCol:{span:3,pull:1===o?1:0},label:E.a.createElement("span",{className:"iconfont icon-suo1",style:{opacity:1===o?1:.6}}),colon:!1},a("registerPassword",{validateFirst:!0,rules:[{required:!0,message:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"},{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&])[A-Za-z\d$@$!%*?&_#]{8,20}/,message:"\u5bc6\u7801\u5fc5\u987b\u662f8-20\u4f4d\uff0c\u4e14\u6709\u4e00\u4e2a\u5927\u5199\uff0c\u4e00\u4e2a\u5c0f\u5199\u548c\u4e00\u4e2a\u7279\u6b8a\u5b57\u7b26\u7ec4\u6210"},{min:8,message:"\u5bc6\u7801\u81f3\u5c11\u4e3a8\u4f4d"},{max:20,message:"\u5bc6\u7801\u81f3\u591a\u4e3a20\u4f4d"}]})(E.a.createElement(r.a,{maxLength:16,className:"myInput",type:"password",onFocus:function(){return e.setState({focusItem:1})},onBlur:function(){return e.setState({focusItem:-1})},onPressEnter:this.onSubmit,placeholder:"\u5bc6\u7801"}))),E.a.createElement(b.a.Item,{help:E.a.createElement(v.a,{info:s("confirmPassword")&&s("confirmPassword")[0]}),style:{marginBottom:35},wrapperCol:{span:20,pull:2===o?1:0},labelCol:{span:3,pull:2===o?1:0},label:E.a.createElement("span",{className:"iconfont icon-suo1",style:{opacity:2===o?1:.6}}),colon:!1},a("confirmPassword",{rules:[{required:!0,message:"\u8bf7\u786e\u8ba4\u5bc6\u7801"},{validator:function(e,t,a){t&&t!==n("registerPassword")&&a("\u4e24\u6b21\u8f93\u5165\u4e0d\u4e00\u81f4\uff01"),a()}}]})(E.a.createElement(r.a,{className:"myInput",type:"password",onFocus:function(){return e.setState({focusItem:2})},onBlur:function(){return e.setState({focusItem:-1})},onPressEnter:this.onSubmit,placeholder:"\u786e\u8ba4\u5bc6\u7801"}))),E.a.createElement(b.a.Item,null,E.a.createElement("div",{className:"btn-box"},E.a.createElement("div",{className:"loginBtn",onClick:this.onSubmit},"\u6ce8\u518c"),E.a.createElement("div",{className:"registerBtn",onClick:this.backLogin},"\u8fd4\u56de\u767b\u5f55")))),E.a.createElement("div",{className:"footer"}))}}]),t}(E.a.Component))||n;t.default=I}}]);