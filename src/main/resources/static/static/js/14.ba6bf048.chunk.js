(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{694:function(t,e,n){"use strict";n.r(e);var i=n(698),a=n(51),o=n(52),r=n(55),c=n(53),s=n(115),l=n(54),u=n(0),h=n.n(u),d=n(394),v=n(703),g=n(171),f=n(116),m=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(r.a)(this,Object(c.a)(e).call(this,t))).loadImageAsync=function(t){return new Promise(function(e,n){var i=new Image;i.onload=function(){e(t)},i.onerror=function(){console.log("\u56fe\u7247\u8f7d\u5165\u9519\u8bef")},i.src=t})},n.handleMouseMove=function(t){var e=0,i=0;t.pageX||t.pageY?(e=t.pageX,i=t.pageY):(t.clientX||t.clientY)&&(e=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),n.target.x=e,n.target.y=i},n.start=function(){var t=Object(s.a)(n),e=t.width,i=t.height,a=t.points,o=t.ctx,r=t.target;o.clearRect(0,0,e,i);var c=!0,l=!1,u=void 0;try{for(var h,d=a[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var v=h.value;Math.abs(n._getDistance(r,v))<4e3?(v.lineActive=.3,v.pointActive=.6):Math.abs(n._getDistance(r,v))<2e4?(v.lineActive=.1,v.pointActive=.3):Math.abs(n._getDistance(r,v))<4e4?(v.lineActive=.02,v.pointActive=.1):(v.lineActive=0,v.pointActive=0),n._drawLines(v,o),n._drawPoint(v,o)}}catch(g){l=!0,u=g}finally{try{c||null==d.return||d.return()}finally{if(l)throw u}}n.myReq=window.requestAnimationFrame(function(){return n.start()})},n.initPage=function(){n.ctx=n.canvas.getContext("2d"),n._createPoints(),n.start(),window.onmousemove=Object(g.b)(n.handleMouseMove,50)},n.destory=function(){window.cancelAnimationFrame(n.myReq),window.onmousemove=null},n.points=[],n.width=window.innerWidth,n.height=window.innerHeight,n.canvas=null,n.ctx=null,n.target={},n.state={loading:!1},n}return Object(l.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.setState({loading:!0}),this.loadImageAsync(this.props.url).then(function(){t.setState({loading:!1})}).then(function(){t.canvas&&t.initPage()})}},{key:"componentWillUnmount",value:function(){this.destory()}},{key:"_createPoints",value:function(){for(var t=this.width,e=this.height,n=0;n<t;n+=t/20)for(var i=0;i<e;i+=e/20){var a=n+Math.random()*t/20,o=i+Math.random()*e/20,r={x:a,originX:a,y:o,originY:o};this.points.push(r)}for(var c=0;c<this.points.length;c++){for(var s=[],l=this.points[c],u=c+1;u<this.points.length;u++){for(var h=this.points[u],d=!1,v=0;v<5;v++)d||void 0===s[v]&&(s[v]=h,d=!0);for(var g=0;g<5;g++)d||this._getDistance(l,h)<this._getDistance(l,s[g])&&(s[g]=h,d=!0)}l.closest=s,l.radius=2+2*Math.random(),this._shakePoint(l)}}},{key:"_shakePoint",value:function(t){var e=this;d.c.to(t,1+1*Math.random(),{x:t.originX-50+100*Math.random(),y:t.originY-50+100*Math.random(),ease:v.a.easeInOut,onComplete:function(){e._shakePoint(t)}})}},{key:"_drawPoint",value:function(t,e){t.pointActive&&(e.beginPath(),e.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),e.fillStyle="rgba(156,217,249,"+t.pointActive+")",e.fill())}},{key:"_drawLines",value:function(t,e){if(t.lineActive){var n=!0,i=!1,a=void 0;try{for(var o,r=t.closest[Symbol.iterator]();!(n=(o=r.next()).done);n=!0){var c=o.value;e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(c.x,c.y),e.strokeStyle="rgba(156,217,249,"+t.lineActive+")",e.stroke()}}catch(s){i=!0,a=s}finally{try{n||null==r.return||r.return()}finally{if(i)throw a}}}}},{key:"_getDistance",value:function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)}},{key:"render",value:function(){var t=this,e=this.props.url,n=this.state.loading;return h.a.createElement("div",null,n?h.a.createElement("div",{style:p.backgroundBox},h.a.createElement(f.a,null)):h.a.createElement("div",{style:Object(i.a)({},p.backgroundBox,{backgroundImage:"url(".concat(e,")")})},h.a.createElement("canvas",{ref:function(e){return t.canvas=e},style:p.canvasStyle,width:this.width,height:this.height}),this.props.children))}}]),e}(h.a.Component);m.defaultProps={url:"https://github.com/zhangZhiHao1996/image-store/blob/master/react-admin-master/bg1.jpg?raw=true"};var p={backgroundBox:{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",backgroundSize:"100% 100%"},canvasStyle:{display:"block",position:"fixed",top:"0",left:"0"}};e.default=m}}]);